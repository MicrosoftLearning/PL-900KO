---
lab:
    title: '랩: 데이터 모델링'
    module: '모듈 2: Common Data Service 소개'
---

# 모듈 2: Common Data Service 소개
## 랩: 데이터 모델링


시나리오
========
    
Bellows College는 캠퍼스 내에 여러 건물이 있는 교육 기관입니다. 캠퍼스 방문은 현재 종이에 기록되어 있습니다. 이 정보는 일관되게 수집되지 않으며, 전체 캠퍼스 방문에 관한 데이터를 수집하고 분석할 방법이 없습니다. 

캠퍼스 관리부에서는 보안 요원에 의해 건물 액세스가 제어되고 모든 방문이 반드시 호스트에 의해 사전 등록 및 기록되는 방문자 등록 시스템을 현대화하고자 합니다.

이 과정 전반에 걸쳐 Bellows College의 관리 및 보안 담당자가 캠퍼스 내 건물에 대한 액세스를 관리하고 제어할 수 있도록 애플리케이션을 빌드하고 자동화를 수행합니다. 

이 랩에서는 환경을 설정하고, CDS(Common Data Service) 데이터베이스를 구축하고, 변경 내용을 추적할 수 있는 솔루션을 만듭니다. 또한 다음 요구 사항을 지원하는 데이터 모델을 만듭니다.

-   R1 - 캠퍼스 방문 위치(건물) 추적
-   R2 - 방문자를 식별하고 추적하기 위한 기본 정보 기록 
-   R3 – 방문의 일정, 기록 및 관리 

마지막으로 샘플 데이터를 Common Data Service로 가져옵니다.

고급 랩 단계
======================

학습 환경을 준비하려면 다음을 수행합니다.

* 솔루션 및 게시자 만들기
* 애플리케이션 요구 사항을 충족하는 새 구성 요소와 기존 구성 요소를 모두 추가합니다. 메타데이터 설명(엔터티 및 관계)에 대해서는 [데이터 모델 문서](https://github.com/MicrosoftLearning/PL-900-Microsoft-Power-Platform-Fundamentals/raw/master/Allfiles/Labs/Campus%20Management.png)를 참조하세요. 링크를 CTRL 키를 누른 채 클릭하거나 마우스 오른쪽 단추로 클릭하여 새 창에서 데이터 모델 문서를 열 수 있습니다.

모든 사용자 지정이 완료되면 솔루션에는 다음과 같은 여러 엔터티가 포함됩니다.

-   연락처
-   건물
-   방문

## 필수 구성 요소:

* 없음

시작하기 전에 고려해야 할 사항
-----------------------------------

* 명명 규칙
* 데이터 유형, 제한 사항(예: 이름의 최대 길이)
* 용이한 지역화를 지원하는 날짜 시간 서식 지정

연습 \#1: 환경 및 솔루션 만들기
==================================================

**목표:** 이 연습에서는 환경을 준비하고 데이터 모델링 프로세스를 지원하는 솔루션을 만듭니다. 

태스크 \#1: 환경 만들기
-----------------------------

주어진 환경이 없고, 사전에 제공되지 않은 경우 이 작업에서 새 작업 환경을 만듭니다. 그렇지 않으면 다음 작업으로 넘어갈 수 있습니다.

1.  <https://aka.ms/ppac>에 로그인

2.  **환경**을 선택하고 상단 메뉴에서 **새로 만들기**를 클릭합니다. 그러면
    창의 오른쪽에 있는 메뉴가 열립니다.

3.  **이름**에 **Bellows College [성]** 을 입력합니다.

4.  **유형** 드롭다운에서 **프로덕션**을 선택합니다.

5.  **영역**을 선택합니다.

6.  이 환경을 만드는 **목적**을 입력합니다 (선택 사항). 
    
7.  환경과 함께 데이터베이스를 만들려면 **이 환경에 대한 데이터베이스 만들기** **토글**을 켭니다.
    또는 환경이 구성된 후
    환경이 구성됩니다.

8.  **다음**을 클릭합니다.

9.  **언어** 및 **통화**를 선택합니다. 이 랩의 목적상,
    환경에는 **영어**와 **미국 달러** (USD)가 선택되어 있습니다.

10. 이러한 랩의 목적을 위해 **Dynamics 365 앱 사용**을 비활성화해 둡니다.
    설정합니다.

11. 랩의 목적상 **샘플 앱 및 데이터를 배포**를 사용하지 않도록
    설정합니다.

12. **저장**을 클릭합니다.

13. 환경을 프로비전하는 데 몇 분 정도 걸릴 수 있습니다. **새로 고침** 단추를 클릭하여 목록을 새로 고칠 수 있습니다. 환경이 프로비전되면 **상태**가 준비됨으로 변경됩니다.

14. 이전에 데이터베이스를 만들지 않았을 경우, 환경을 선택하고 **내 데이터베이스 만들기**를 클릭합니다. 그렇지 않으면 이 단계를 건너뜁니다.

    - **통화** 및 **언어**를 선택합니다. 이 랩의 목적상,
    환경은 **미국 달러**(USD)와 **영어**가 선택되어 있습니다.

    - **내 데이터베이스 만들기**를 클릭합니다.

작업 \#2: 솔루션 및 게시자 만들기
---------------------------------------

1.  솔루션을 만드세요

    -   <https://make.powerapps.com>에 로그인합니다

    -   화면 오른쪽 상단 모서리에 있는 **환경**을 클릭하고 드롭다운 메뉴에서 환경을 선택하여 환경을 선택합니다.

    -   왼쪽 메뉴에서 **솔루션**을 선택하고 **새 솔루션**을 클릭합니다.

    -   **표시 이름**에 **캠퍼스 관리**를 입력합니다.

2.  게시자 만들기

    -   **게시자** 드롭다운을 클릭하고 **+ 게시자**를 선택합니다.

    -   팝업 창에서 **표시 이름**에 **Bellows College**를 입력하고 **접두사**에 **bc**를 입력합니다.

    -   **저장 후 닫기**를 클릭합니다. 
    
    -   팝업 창에서 **완료**를 클릭합니다.

3.  솔루션 만들기를 완료합니다.

    -   이제 **게시자** 드롭다운을 클릭하고 방금 만든 게시자인 **Bellows College**을 선택합니다
        방금 만든 게시자.

    -   **버전**이 **1.0.0.0**으로 설정되어 있는지 확인합니다. 
    
    -   **만들기**를 클릭합니다.

작업 \#3: 기존 엔터티 추가
-----------------------------

1.  방금 만든 **캠퍼스 관리** 솔루션을 열려면 클릭합니다.
2.  **기존 항목 추가**를 클릭하고 **엔터티**를 선택합니다.
3.  **연락처**를 찾아 선택합니다.
4.  **다음**을 클릭합니다.
5.  **구성 요소 선택**을 클릭합니다.
6.  **뷰** 탭을 선택하고 **활성 연락처** 뷰를 선택합니다. 클릭
    **추가**를 클릭.
7.  **구성 요소 선택**을 다시 클릭합니다.
8.  **양식** 탭을 선택하고 **연락처** 양식을 선택합니다.
9.  **추가**를 클릭합니다.
10. **뷰 1개**와 **양식 1개**가 선택되어 있어야 합니다. **추가**를 클릭합니다.
    이렇게 하면 새로 생성된 솔루션에 선택한 보기 및 양식이 있는 연락처 엔터티가 추가됩니다. 
11.  이제 솔루션에 다음과 같은 엔터티가 하나 있어야 합니다: 있어야 합니다.

연습 \#2: 엔터티 및 관계 만들기
========================================

**목표:** 이 연습에서는 엔터티를 만들고 엔터티 간에
관계를 추가합니다.

작업 #1: 건물 엔터티 및 필드 만들기
-----------------------------------------

1.  여전히 Campus Management 솔루션에 대해 브라우저가 열려 있어야 합니다. 그렇지 않은 경우 다음 단계를 따라 Campus Management 솔루션을 엽니다.
    * <https://make.powerapps.com>에 로그인 (아직 로그인하지 않은 경우)
    * **솔루션**을 선택하고 클릭하여 방금 만든 **캠퍼스 관리**
          방금 만든 솔루션입니다.
2.  건물 엔터티 만들기

    -   **새로 만들기**를 클릭하고 **엔터티**를 선택합니다.
    -   **표시 이름**에 **건물**을 입력합니다. 
    -   **완료**를 클릭합니다. 이렇게 하면
            백그라운드에서 엔터티 프로비전을 시작하고, 그동안 다른 엔터티 및 필드 추가를
            다른 엔터티 및 필드.

## 작업 #2: 방문 엔터티 및 필드 만들기

**방문** 엔터티에는 건물, 방문자, 각 방문의 예약 시간 및 실제 시간 등의 캠퍼스 방문 정보가 포함됩니다. 

방문 체크인 프로세스에서 요청될 때 방문자가 쉽게 입력하고 해석할 수 있는 고유 번호를 각 방문에 할당하려 합니다.

> [참고]
> 방문 시간은 *항상* 건물의 위치를 기준으로 로컬이고 다른 표준 시간대에서 볼 때 변경되지 않아야 하기 때문에 **표준 시간대 독립** 동작을 사용하여 날짜 및 시간 정보를 기록합니다. 

1.  **캠퍼스 관리** 솔루션을 선택합니다.
2. 방문 엔터티 만들기

   * **새로 만들기**를 클릭하고 **엔터티**를 선택합니다.
   * **표시 이름**에 **방문**을 입력합니다. 
   * **완료**를 클릭합니다. 이렇게 하면 백그라운드에서 엔터티 프로비전을 시작하는 동시에 다른 필드 추가를 시작할 수 있습니다.

3. 예약된 시작 필드 만들기

   * **필드** 탭을 선택했는지 확인하고 **필드 추가**를 클릭합니다.
   * **표시 이름**에 대해 **예약된 시작**을 입력합니다.
   * **데이터 형식**에 대해 **날짜 및 시간**을 선택합니다.
   * **필수** 필드에서 **필수**를 선택합니다.
   * **고급 옵션** 섹션을 확장합니다.
   * **동작** 필드에서 **표준 시간대 독립**을 선택합니다.
   * **완료**를 클릭합니다.

4.  예약된 끝 필드 만들기

    * **필드 추가**를 클릭합니다.
    * **표시 이름**에 **예약된 끝**을 입력합니다.
    * **데이터 형식**에 대해 **날짜 및 시간**을 선택합니다.
    * **필수** 필드에서 **필수**를 선택합니다.
    * **고급 옵션** 섹션을 확장합니다.
    * **동작** 필드에서 **표준 시간대 독립**을 선택합니다.
    * **완료**를 클릭합니다.
    
6.  실제 시작 필드 만들기

    * **필드 추가**를 클릭합니다.
    * **표시 이름**에 **실제 시작**을 입력합니다.
    * **데이터 형식**에 대해 **날짜 및 시간**을 선택합니다.
    * **고급 옵션** 섹션을 확장합니다.
    * **동작** 필드에서 **표준 시간대 독립**을 선택합니다.
    * **완료**를 클릭합니다.
    
7.  실제 끝 필드 만들기

    * **필드 추가**를 클릭합니다.
    * **표시 이름**에 **실제 끝**을 입력합니다.
    * **데이터 형식**에 대해 **날짜 및 시간**을 선택합니다.
    * **고급 옵션** 섹션을 확장합니다.
    * **동작** 필드에서 **표준 시간대 독립**을 선택합니다.
    * **완료**를 클릭합니다.
    
7.  코드 만들기 필드

    * **필드 추가**를 클릭합니다.
    * **표시 이름**에 **코드**를 입력합니다.
    * **데이터 유형**에서 **일련 번호**를 선택합니다.
    * **일련 번호 유형**에 **날짜 접두사 번호**를 선택합니다.
    * **완료**를 클릭합니다.
    
8.  **엔터티 저장** 클릭

작업 #3: 관계 만들기
------------------------------

1.  **Campus Management** 솔루션의 **방문** 엔터티를 여전히 보고 있는지 확인합니다. 그렇지 않은 경우, 그곳으로 이동합니다.
2.  연락처 방문 관계 만들기
    * **관계** 탭을 선택합니다.
    * **관계 추가** 클릭 및 **다대일** 선택
    * **관련 항목 (1개)** 에 대한 **연락처** 선택 
    * **조회 필드 표시 이름**에 **방문자** 입력 
    * **완료**를 클릭합니다.
3.  건물 방문 관계 만들기
    * **관계 추가**를 클릭하고 **다대일** 선택
    * **관련 항목 (1개)** 에 대해 **건물** 선택 
    * **완료**를 클릭합니다.
4.  **엔터티 저장**을 클릭합니다.
5.  상단 메뉴에서 **솔루션**을 선택하고 **모든 사용자 지정 게시**를 클릭

# 연습 \#3: 데이터 가져오기

**목표:** 이 연습에서는 샘플 데이터를 Common Data Service 데이터베이스로 가져옵니다.

## 작업 #1: 데이터 맵 가져오기

1. 아직 안 한 경우 [CampusDataMap.xml](../../Allfiles/Labs/CampusDataMap.xml)를 다운로드합니다.
2. <https://admin.powerplatform.microsoft.com>에서 Power Platform 관리 센터로 이동하여 로그인합니다.
3. Bellows College 환경을 선택합니다.
4. 상단에서 **설정**을 클릭합니다.
5. **데이터 관리** 섹션을 확장한 다음, **데이터 맵**을 선택합니다. 그러면 새 브라우저 탭에서 맵 가져오기 화면이 열립니다.
6. **가져오기**를 클릭한 다음, **파일 선택**을 클릭합니다. 이전에 다운로드한 **CampusDataMap.xml**을 찾아 선택한 다음, **확인**을 누릅니다. 
7. 캠퍼스 데이터 맵 파일을 성공적으로 가져와야 합니다. 오류가 발생하면 돌아가서 이전 작업에서 필요한 모든 엔터티와 필드를 모두 만들었는지 확인합니다.
8. 상단 메뉴에서 **솔루션**을 선택하고 **모든 사용자 지정 게시**를 클릭

## 작업 #2: 데이터 가져오기  

1. [CampusData.zip](../../Allfiles/Labs/CampusData.zip)을 다운로드합니다.
2. <https://admin.powerplatform.microsoft.com>에서 Power Platform 관리 센터로 이동합니다.
3. Bellows College 환경을 선택합니다.
4. 상단에서 **설정**을 클릭합니다.
5. **데이터 관리** 섹션을 확장한 다음, **데이터 가져오기 마법사**를 선택합니다.
6. **데이터 가져오기**를 누릅니다.
7. **파일 선택**을 클릭한 다음, 이전에 다운로드한 **CampusData.zip**을 찾아 선택합니다.
8. **다음**을 누른 다음, 다시 **다음**을 누릅니다.
9. **CampusImportDataMap**을 선택하고 **다음**을 누릅니다.
10. 매핑 요약을 검토하고 나서 **다음**을 누르고 **제출**을 누릅니다.
11. **종료**를 누릅니다.
12. 이제 데이터 가져오기가 시작됩니다. 이제 내 가져오기 화면의 오른쪽에 있는 새로 고침 버튼을 사용하면 네 개의 가져오기 모두 **상태 설명**이 **완료**로 될 때까지 테이블을 새로 고칠 수 있습니다. 몇 분 정도 걸릴 수 있습니다.

## 작업 #3: 데이터 가져오기 확인

1. **캠퍼스 관리** 솔루션을 선택합니다. 아직 열려 있지 않은 경우 make.powerapps.com으로 이동하여 왼쪽 창의 솔루션을 클릭하여 솔루션을 찾습니다.*
2. **방문** 엔터티를 선택한 다음, **데이터** 탭을 선택합니다.
3. 오른쪽 상단 모서리에서 **활성 방문**을 클릭하여 보기 선택기를 표시한 다음, **모든 필드**를 선택합니다.
4. 가져오기에 성공하면 방문 항목 목록이 표시되어야 합니다.
5. **건물** 열에서 값을 클릭하여 건물 양식이 별도 창에서 열리는지 확인합니다.
6. **방문자** 열에서 모든 값을 클릭하여(보기를 오른쪽으로 스크롤해야 할 수도 있음) 연락처 양식이 별도 창에서 열리는지 확인합니다.

# 챌린지

* 솔루션의 일부로 *약속* 활동을 사용해 보시겠습니까? 무엇이 변경 되나요?
* 예약된 종료를 어떻게 예약된 시작 후로 적용할 수 있나요? 
* 단일 방문 동안 여러 회의에 대한 지원을 추가합니다.
* 외부 연락처뿐만 아니라 내부 직원에 대해서도 건물 액세스를 보호합니다.
* 특정 건물을 방문하려면 관리 승인이 필요합니다. 데이터 모델의 승인 프로세스는 어떻게 변경되나요?

